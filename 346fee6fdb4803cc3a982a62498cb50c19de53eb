Effects on the old bahavior: none (except for a fixed bug in apt-shell perhaps)

If this is an independent bug, wouldn't it be better to fix it in a
separate commit (so that it can be cherry-picked into other versions)?
