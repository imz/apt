diff -uNr apt-0.5.15cnc6-orig/apt-pkg/init.cc apt-0.5.15cnc6/apt-pkg/init.cc
--- apt-0.5.15cnc6-orig/apt-pkg/init.cc	2004-03-16 01:10:41 +0300
+++ apt-0.5.15cnc6/apt-pkg/init.cc	2005-05-17 17:22:40 +0400
@@ -40,44 +40,44 @@
    // General APT things
    if (strcmp(COMMON_OS,"linux") == 0 ||
        strcmp(COMMON_OS,"unknown") == 0)
-      Cnf.Set("APT::Architecture",COMMON_CPU);
+      Cnf.CndSet("APT::Architecture",COMMON_CPU);
    else
-      Cnf.Set("APT::Architecture",COMMON_OS "-" COMMON_CPU);
+      Cnf.CndSet("APT::Architecture",COMMON_OS "-" COMMON_CPU);
    // CNC:2002-09-10
-   //Cnf.Set("APT::Build-Essential::", "build-essential");
-   Cnf.Set("Dir","/");
+   //Cnf.CndSet("APT::Build-Essential::", "build-essential");
+   Cnf.CndSet("Dir","/");
    
    // State   
-   Cnf.Set("Dir::State","var/lib/apt/");
+   Cnf.CndSet("Dir::State","var/lib/apt/");
    
    /* Just in case something goes horribly wrong, we can fall back to the
       old /var/state paths.. */
    struct stat St;   
    if (stat("/var/lib/apt/.",&St) != 0 &&
        stat("/var/state/apt/.",&St) == 0)
-      Cnf.Set("Dir::State","var/state/apt/");
+      Cnf.CndSet("Dir::State","var/state/apt/");
        
-   Cnf.Set("Dir::State::lists","lists/");
-   Cnf.Set("Dir::State::cdroms","cdroms.list");
+   Cnf.CndSet("Dir::State::lists","lists/");
+   Cnf.CndSet("Dir::State::cdroms","cdroms.list");
    
    // Cache
-   Cnf.Set("Dir::Cache","var/cache/apt/");
-   Cnf.Set("Dir::Cache::archives","archives/");
-   Cnf.Set("Dir::Cache::srcpkgcache","srcpkgcache.bin");
-   Cnf.Set("Dir::Cache::pkgcache","pkgcache.bin");
+   Cnf.CndSet("Dir::Cache","var/cache/apt/");
+   Cnf.CndSet("Dir::Cache::archives","archives/");
+   Cnf.CndSet("Dir::Cache::srcpkgcache","srcpkgcache.bin");
+   Cnf.CndSet("Dir::Cache::pkgcache","pkgcache.bin");
    
    // Configuration
-   Cnf.Set("Dir::Etc","etc/apt/");
-   Cnf.Set("Dir::Etc::sourcelist","sources.list");
+   Cnf.CndSet("Dir::Etc","etc/apt/");
+   Cnf.CndSet("Dir::Etc::sourcelist","sources.list");
    // CNC:2003-03-03
-   Cnf.Set("Dir::Etc::sourceparts","sources.list.d");
-   Cnf.Set("Dir::Etc::vendorlist","vendors.list");
-   Cnf.Set("Dir::Etc::vendorparts","vendors.list.d");
-   Cnf.Set("Dir::Etc::main","apt.conf");
-   Cnf.Set("Dir::Etc::parts","apt.conf.d");
-   Cnf.Set("Dir::Etc::preferences","preferences");
-   Cnf.Set("Dir::Bin::methods",LIBDIR "/apt/methods");
-   Cnf.Set("Acquire::ComprExtension", ".bz2");
+   Cnf.CndSet("Dir::Etc::sourceparts","sources.list.d");
+   Cnf.CndSet("Dir::Etc::vendorlist","vendors.list");
+   Cnf.CndSet("Dir::Etc::vendorparts","vendors.list.d");
+   Cnf.CndSet("Dir::Etc::main","apt.conf");
+   Cnf.CndSet("Dir::Etc::parts","apt.conf.d");
+   Cnf.CndSet("Dir::Etc::preferences","preferences");
+   Cnf.CndSet("Dir::Bin::methods",LIBDIR "/apt/methods");
+   Cnf.CndSet("Acquire::ComprExtension", ".bz2");
 	      
    bool Res = true;
    
diff -uNr apt-0.5.15cnc6-orig/cmdline/apt-cache.cc apt-0.5.15cnc6/cmdline/apt-cache.cc
--- apt-0.5.15cnc6-orig/cmdline/apt-cache.cc	2004-03-19 17:21:45 +0300
+++ apt-0.5.15cnc6/cmdline/apt-cache.cc	2005-05-17 17:24:31 +0400
@@ -1959,8 +1959,8 @@
    // Parse the command line and initialize the package library
    CommandLine CmdL(Args,_config);
    if (pkgInitConfig(*_config) == false ||
-       CmdL.Parse(argc,argv) == false ||
-       pkgInitSystem(*_config,_system) == false)
+       pkgInitSystem(*_config,_system) == false ||
+       CmdL.Parse(argc,argv) == false)
    {
       _error->DumpErrors();
       return 100;
diff -uNr apt-0.5.15cnc6-orig/cmdline/apt-cache.cc.orig apt-0.5.15cnc6/cmdline/apt-cache.cc.orig
diff -uNr apt-0.5.15cnc6-orig/cmdline/apt-cdrom.cc apt-0.5.15cnc6/cmdline/apt-cdrom.cc
--- apt-0.5.15cnc6-orig/cmdline/apt-cdrom.cc	2005-05-17 17:22:23 +0400
+++ apt-0.5.15cnc6/cmdline/apt-cdrom.cc	2005-05-17 17:24:31 +0400
@@ -902,8 +902,8 @@
    // Parse the command line and initialize the package library
    CommandLine CmdL(Args,_config);
    if (pkgInitConfig(*_config) == false ||
-       CmdL.Parse(argc,argv) == false ||
-       pkgInitSystem(*_config,_system) == false)
+       pkgInitSystem(*_config,_system) == false ||
+       CmdL.Parse(argc,argv) == false)
    {
       _error->DumpErrors();
       return 100;
diff -uNr apt-0.5.15cnc6-orig/cmdline/apt-config.cc apt-0.5.15cnc6/cmdline/apt-config.cc
--- apt-0.5.15cnc6-orig/cmdline/apt-config.cc	2003-02-14 22:48:39 +0300
+++ apt-0.5.15cnc6/cmdline/apt-config.cc	2005-05-17 17:24:31 +0400
@@ -110,8 +110,8 @@
    // Parse the command line and initialize the package library
    CommandLine CmdL(Args,_config);
    if (pkgInitConfig(*_config) == false ||
-       CmdL.Parse(argc,argv) == false ||
-       pkgInitSystem(*_config,_system) == false)
+       pkgInitSystem(*_config,_system) == false ||
+       CmdL.Parse(argc,argv) == false)
    {
       _error->DumpErrors();
       return 100;
diff -uNr apt-0.5.15cnc6-orig/cmdline/apt-get.cc apt-0.5.15cnc6/cmdline/apt-get.cc
--- apt-0.5.15cnc6-orig/cmdline/apt-get.cc	2005-05-17 17:22:23 +0400
+++ apt-0.5.15cnc6/cmdline/apt-get.cc	2005-05-17 17:24:31 +0400
@@ -3157,8 +3157,8 @@
    // Parse the command line and initialize the package library
    CommandLine CmdL(Args,_config);
    if (pkgInitConfig(*_config) == false ||
-       CmdL.Parse(argc,argv) == false ||
-       pkgInitSystem(*_config,_system) == false)
+       pkgInitSystem(*_config,_system) == false ||
+       CmdL.Parse(argc,argv) == false)
    {
       if (_config->FindB("version") == true)
 	 ShowHelp(CmdL);
diff -uNr apt-0.5.15cnc6-orig/cmdline/apt-get.cc.orig apt-0.5.15cnc6/cmdline/apt-get.cc.orig
diff -uNr apt-0.5.15cnc6-orig/cmdline/apt-shell.cc apt-0.5.15cnc6/cmdline/apt-shell.cc
--- apt-0.5.15cnc6-orig/cmdline/apt-shell.cc	2005-05-17 17:22:23 +0400
+++ apt-0.5.15cnc6/cmdline/apt-shell.cc	2005-05-17 17:24:31 +0400
@@ -4376,8 +4376,8 @@
    // Parse the command line and initialize the package library
    CommandLine CmdL(CommandArgs(""),_config);
    if (pkgInitConfig(*_config) == false ||
-       CmdL.Parse(argc,argv) == false ||
-       pkgInitSystem(*_config,_system) == false)
+       pkgInitSystem(*_config,_system) == false ||
+       CmdL.Parse(argc,argv) == false)
    {
       if (_config->FindB("version") == true)
 	 ShowHelp(CmdL);
diff -uNr apt-0.5.15cnc6-orig/cmdline/apt-shell.cc.orig apt-0.5.15cnc6/cmdline/apt-shell.cc.orig
