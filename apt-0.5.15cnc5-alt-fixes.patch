diff -uprk.orig apt-0.5.15cnc5.orig/apt-pkg/pkgsystem.h apt-0.5.15cnc5/apt-pkg/pkgsystem.h
--- apt-0.5.15cnc5.orig/apt-pkg/pkgsystem.h	2003-12-23 23:23:22 +0300
+++ apt-0.5.15cnc5/apt-pkg/pkgsystem.h	2004-01-16 14:33:07 +0300
@@ -90,7 +90,7 @@ class pkgSystem
    // Return a list of system index files..
    virtual bool AddStatusFiles(std::vector<pkgIndexFile *> &List) = 0;   
    // CNC:2003-11-21
-   virtual bool AddSourceFiles(std::vector<pkgIndexFile *> &List) {};
+   virtual void AddSourceFiles(std::vector<pkgIndexFile *> &List) {};
    virtual bool FindIndex(pkgCache::PkgFileIterator File,
 			  pkgIndexFile *&Found) const = 0;
    
diff -uprk.orig apt-0.5.15cnc5.orig/apt-pkg/rpm/rpmhandler.cc apt-0.5.15cnc5/apt-pkg/rpm/rpmhandler.cc
--- apt-0.5.15cnc5.orig/apt-pkg/rpm/rpmhandler.cc	2003-12-23 23:19:22 +0300
+++ apt-0.5.15cnc5/apt-pkg/rpm/rpmhandler.cc	2004-01-16 14:30:11 +0300
@@ -87,7 +87,7 @@ bool RPMFileHandler::Jump(unsigned Offse
 {
    if (FD == NULL)
       return false;
-   if (lseek(Fileno(FD),Offset,SEEK_SET) != Offset)
+   if (lseek(Fileno(FD),Offset,SEEK_SET) != (off_t)Offset)
       return false;
    return Skip();
 }
diff -uprk.orig apt-0.5.15cnc5.orig/apt-pkg/rpm/rpmpm.cc apt-0.5.15cnc5/apt-pkg/rpm/rpmpm.cc
--- apt-0.5.15cnc5.orig/apt-pkg/rpm/rpmpm.cc	2003-12-23 23:19:20 +0300
+++ apt-0.5.15cnc5/apt-pkg/rpm/rpmpm.cc	2004-01-16 14:29:19 +0300
@@ -392,7 +392,7 @@ bool pkgRPMExtPM::ExecRPM(Item::RPMOps o
    
    Args[n++] = _config->Find("Dir::Bin::rpm","rpm").c_str();
 
-   bool nodeps;
+   bool nodeps = false;
 
    switch (op)
    {
@@ -415,6 +415,8 @@ bool pkgRPMExtPM::ExecRPM(Item::RPMOps o
 	 operation = "-e";
 	 nodeps = true;
 	 break;
+      default:
+	 return false;
    }
    Args[n++] = operation;
 
@@ -654,8 +656,7 @@ pkgRPMLibPM::~pkgRPMLibPM()
 
 bool pkgRPMLibPM::AddToTransaction(Item::RPMOps op, vector<const char*> &files)
 {
-   int debug = _config->FindB("Debug::pkgRPMPM", false);
-   int n = 0, rc, xx;
+   int rc;
    FD_t fd;
    rpmHeader hdr;
 
@@ -735,7 +736,6 @@ bool pkgRPMLibPM::Process(vector<const c
 {
    int rc = 0;
    bool Success = false;
-   int debug = _config->FindB("Debug::pkgRPMPM", false);
    string Dir = _config->Find("RPM::RootDir");
    rpmReadConfigFiles(NULL, NULL);
 
diff -uprk.orig apt-0.5.15cnc5.orig/apt-pkg/rpm/rpmsystem.cc apt-0.5.15cnc5/apt-pkg/rpm/rpmsystem.cc
--- apt-0.5.15cnc5.orig/apt-pkg/rpm/rpmsystem.cc	2003-12-23 23:19:32 +0300
+++ apt-0.5.15cnc5/apt-pkg/rpm/rpmsystem.cc	2004-01-16 14:33:07 +0300
@@ -249,7 +249,7 @@ bool rpmSystem::AddStatusFiles(vector<pk
 // System::AddSourceFiles - Register aditional source files		/*{{{*/
 // ---------------------------------------------------------------------
 /* */
-bool rpmSystem::AddSourceFiles(vector<pkgIndexFile *> &List)
+void rpmSystem::AddSourceFiles(vector<pkgIndexFile *> &List)
 {
    const Configuration::Item *Top;
    Top = _config->Tree("APT::Arguments");
@@ -266,7 +266,6 @@ bool rpmSystem::AddSourceFiles(vector<pk
 	 }
       }
    }
-   return true;
 }
 									/*}}}*/
 #ifdef OLD_FILEDEPS
diff -uprk.orig apt-0.5.15cnc5.orig/apt-pkg/rpm/rpmsystem.h apt-0.5.15cnc5/apt-pkg/rpm/rpmsystem.h
--- apt-0.5.15cnc5.orig/apt-pkg/rpm/rpmsystem.h	2003-12-23 23:19:37 +0300
+++ apt-0.5.15cnc5/apt-pkg/rpm/rpmsystem.h	2004-01-16 14:33:07 +0300
@@ -60,7 +60,7 @@ class rpmSystem : public pkgSystem
    virtual bool ArchiveSupported(const char *Type);
    virtual signed Score(Configuration const &Cnf);
    virtual bool AddStatusFiles(vector<pkgIndexFile *> &List);
-   virtual bool AddSourceFiles(vector<pkgIndexFile *> &List);
+   virtual void AddSourceFiles(vector<pkgIndexFile *> &List);
    virtual bool FindIndex(pkgCache::PkgFileIterator File,
 			  pkgIndexFile *&Found) const;
    virtual bool ProcessCache(pkgDepCache &Cache,pkgProblemResolver &Fix);
diff -uprk.orig apt-0.5.15cnc5.orig/cmdline/apt-get.cc apt-0.5.15cnc5/cmdline/apt-get.cc
--- apt-0.5.15cnc5.orig/cmdline/apt-get.cc	2003-12-23 23:30:50 +0300
+++ apt-0.5.15cnc5/cmdline/apt-get.cc	2004-01-16 21:55:48 +0300
@@ -3078,6 +3078,15 @@ int main(int argc,const char *argv[])
       return 100;
    }
 
+   // See if the help should be shown
+   if (_config->FindB("help") == true ||
+       _config->FindB("version") == true ||
+       CmdL.FileSize() == 0)
+   {
+      ShowHelp(CmdL);
+      return 0;
+   }
+   
    // CNC:2003-11-21
    if (CmdL.FileSize() != 1)
    {
@@ -3102,15 +3111,6 @@ int main(int argc,const char *argv[])
 	 _config->Set("APT::Arguments::", *I);
    }
 
-   // See if the help should be shown
-   if (_config->FindB("help") == true ||
-       _config->FindB("version") == true ||
-       CmdL.FileSize() == 0)
-   {
-      ShowHelp(CmdL);
-      return 0;
-   }
-   
    // Deal with stdout not being a tty
    if (ttyname(STDOUT_FILENO) == 0 && _config->FindI("quiet",0) < 1)
       _config->Set("quiet","1");
